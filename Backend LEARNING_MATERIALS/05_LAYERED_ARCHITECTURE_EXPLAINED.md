# ğŸ—ï¸ Ğ¡Ğ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° - ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾

## Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ
1. [Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ÑĞ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#Ñ‡Ñ‚Ğ¾-Ñ‚Ğ°ĞºĞ¾Ğµ-ÑĞ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
2. [Ğ¡Ğ»Ğ¾Ğ¹ Routes](#ÑĞ»Ğ¾Ğ¹-routes)
3. [Ğ¡Ğ»Ğ¾Ğ¹ Controllers](#ÑĞ»Ğ¾Ğ¹-controllers)
4. [Ğ¡Ğ»Ğ¾Ğ¹ Services](#ÑĞ»Ğ¾Ğ¹-services)
5. [Ğ¡Ğ»Ğ¾Ğ¹ Repositories](#ÑĞ»Ğ¾Ğ¹-repositories)
6. [Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ ÑĞ»Ğ¾ĞµĞ²](#Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ-ÑĞ»Ğ¾ĞµĞ²)
7. [ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹](#Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ-Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹)

---

## Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ ÑĞ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### ğŸ“– ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ

**Ğ¡Ğ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Layered Architecture)** - ÑÑ‚Ğ¾ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑĞµï¿½ï¿½ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ¸, ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¸Ğ· ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ.

### ğŸ¯ Ğ—Ğ°Ñ‡ĞµĞ¼ Ğ½ÑƒĞ¶Ğ½Ğ° ÑĞ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

**Ğ‘ĞµĞ· ÑĞ»Ğ¾Ğ¸ÑÑ‚Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹:**
```typescript
// Ğ’ĞµÑÑŒ ĞºĞ¾Ğ´ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ - ĞŸĞ›ĞĞ¥Ğ!
app.get('/api/products', async (req, res) => {
  try {
    const page = parseInt(req.query.page) || 1;
    const limit = parseInt(req.query.limit) || 10;
    
    // Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
    if (page < 1 || limit < 1) {
      return res.status(400).json({ error: 'Invalid parameters' });
    }
    
    // Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
    const skip = (page - 1) * limit;
    
    // Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ”
    const products = await prisma.product.findMany({
      skip,
      take: limit,
      include: { category: true }
    });
    
    const total = await prisma.product.count();
    
    // Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
    res.json({
      success: true,
      data: products,
      total,
      page,
      limit,
      totalPages: Math.ceil(total / limit)
    });
  } catch (error) {
    res.status(500).json({ error: 'Server error' });
  }
});
```

**Ğ¡Ğ¾ ÑĞ»Ğ¾Ğ¸ÑÑ‚Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ¾Ğ¹:**
```typescript
// ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ğ´Ğ½Ğ¾ - Ğ¥ĞĞ ĞĞ¨Ğ!
router.get('/', (req, res, next) => 
  productController.getAllProducts(req, res, next)
);
```

### âœ¨ ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° ÑĞ»Ğ¾Ğ¸ÑÑ‚Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

- **Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸** - ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ğ´Ğ½Ğ¾
- **Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** - Ğ»ĞµĞ³ĞºĞ¾ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ
- **ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** - ĞºĞ¾Ğ´ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ
- **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** - Ğ»ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
- **ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ğ¾ÑÑ‚ÑŒ** - Ğ»ĞµĞ³ĞºĞ¾ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ¸ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
- **ĞĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ** - ÑĞ»Ğ¾Ğ¸ Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‚ Ğ´Ñ€ÑƒĞ³ Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ³Ğ°

---

## Ğ¡Ğ»Ğ¾Ğ¹ Routes

### ğŸ“– ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ

**Routes ÑĞ»Ğ¾Ğ¹** - ÑÑ‚Ğ¾ ÑĞ»Ğ¾Ğ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµÑ‚ HTTP endpoints Ğ¸ ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ñ… Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°Ğ¼Ğ¸.

### ğŸ¯ ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ

- ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ HTTP endpoints (GET, POST, PUT, DELETE)
- Ğ¡Ğ²ÑĞ·Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ URL Ñ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğ°Ğ¼Ğ¸
- Swagger Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²

### ğŸ’» Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```typescript
// src/routes/products.ts
import { Router } from 'express';
import { productController } from '../controllers/productController';

const router = Router();

/**
 * @swagger
 * /api/products:
 *   get:
 *     summary: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹
 *     tags:
 *       - Products
 *     parameters:
 *       - in: query
 *         name: page
 *         schema:
 *           type: integer
 *           default: 1
 */
router.get('/', (req, res, next) => 
  productController.getAllProducts(req, res, next)
);

/**
 * @swagger
 * /api/products/{id}:
 *   get:
 *     summary: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚ Ğ¿Ğ¾ ID
 *     tags:
 *       - Products
 *     parameters:
 *       - in: path
 *         name: id
 *         required: true
 *         schema:
 *           type: string
 */
router.get('/:id', (req, res, next) => 
  productController.getProductById(req, res, next)
);

router.post('/', (req, res, next) => 
  productController.createProduct(req, res, next)
);

router.put('/:id', (req, res, next) => 
  productController.updateProduct(req, res, next)
);

router.delete('/:id', (req, res, next) => 
  productController.deleteProduct(req, res, next)
);

export default router;
```

### ğŸ” Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² Routes ÑĞ»Ğ¾Ğµ

```
1. ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
   GET /api/products?page=1&limit=10
   â†“
2. Express Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğ¹ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚
   router.get('/', ...)
   â†“
3. Express Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº
   productController.getAllProducts(req, res, next)
   â†“
4. Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ÑÑ Ğ² Controllers ÑĞ»Ğ¾Ğ¹
```

### ğŸ“‹ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Routes ÑĞ»Ğ¾Ñ

âœ… ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞ¹Ñ‚Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹
âœ… ĞĞµ Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ
âœ… ĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ Ğ‘Ğ”
âœ… ĞŸĞµÑ€ĞµĞ´Ğ°Ğ²Ğ°Ğ¹Ñ‚Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğ°Ğ¼
âœ… Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞ¹Ñ‚Ğµ Swagger Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

---

## Ğ¡Ğ»Ğ¾Ğ¹ Controllers

### ğŸ“– ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ

**Controllers ÑĞ»Ğ¾Ğ¹** - ÑÑ‚Ğ¾ ÑĞ»Ğ¾Ğ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ HTTP Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹.

### ğŸ¯ ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ

- ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ¸Ğ· Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
- Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
- Ğ’Ñ‹Ğ·Ğ¾Ğ² ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
- Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ HTTP Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

### ğŸ’» Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```typescript
// src/controllers/productController.ts
import { Request, Response, NextFunction } from 'express';
import { productService } from '../services/productService';
import { HTTP_STATUS } from '../config/constants';

export class ProductController {
  async getAllProducts(req: Request, res: Response, next: NextFunction) {
    try {
      // 1. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²
      const page = parseInt(req.query.page as string) || 1;
      const limit = parseInt(req.query.limit as string) || 10;

      // 2. Ğ’Ñ‹Ğ·Ğ¾Ğ² ÑĞµÑ€Ğ²Ğ¸ÑĞ°
      const result = await productService.getAllProducts(page, limit);

      // 3. Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
      res.status(HTTP_STATUS.OK).json({
        success: true,
        data: result,
      });
    } catch (error) {
      // 4. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
      next(error);
    }
  }

  async getProductById(req: Request, res: Response, next: NextFunction) {
    try {
      const { id } = req.params;
      const product = await productService.getProductById(id);

      res.status(HTTP_STATUS.OK).json({
        success: true,
        data: product,
      });
    } catch (error) {
      next(error);
    }
  }

  async createProduct(req: Request, res: Response, next: NextFunction) {
    try {
      const product = await productService.createProduct(req.body);

      res.status(HTTP_STATUS.CREATED).json({
        success: true,
        data: product,
        message: 'ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½',
      });
    } catch (error) {
      next(error);
    }
  }

  async updateProduct(req: Request, res: Response, next: NextFunction) {
    try {
      const { id } = req.params;
      const product = await productService.updateProduct(id, req.body);

      res.status(HTTP_STATUS.OK).json({
        success: true,
        data: product,
        message: 'ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½',
      });
    } catch (error) {
      next(error);
    }
  }

  async deleteProduct(req: Request, res: Response, next: NextFunction) {
    try {
      const { id } = req.params;
      await productService.deleteProduct(id);

      res.status(HTTP_STATUS.OK).json({
        success: true,
        message: 'ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒĞ´Ğ°Ğ»ĞµĞ½',
      });
    } catch (error) {
      next(error);
    }
  }
}

export const productController = new ProductController();
```

### ğŸ” Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² Controllers ÑĞ»Ğ¾Ğµ

```
1. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ¸Ğ· Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
   req.params, req.query, req.body
   â†“
2. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
   if (!id) throw new ValidationError(...)
   â†“
3. Ğ’Ñ‹Ğ·Ğ¾Ğ² ÑĞµÑ€Ğ²Ğ¸ÑĞ°
   await productService.getAllProducts(page, limit)
   â†“
4. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° Ğ¾Ñ‚ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
   â†“
5. Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ JSON Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
   res.json({ success: true, data: result })
   â†“
6. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñƒ
```

### ğŸ“‹ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Controllers ÑĞ»Ğ¾Ñ

âœ… ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¸Ğ· Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
âœ… Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
âœ… Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ HTTP Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹
âœ… ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ñ‡ĞµÑ€ĞµĞ· next(error)
âœ… ĞĞµ Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ
âœ… ĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ Ğ‘Ğ” Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ

---

## Ğ¡Ğ»Ğ¾Ğ¹ Services

### ğŸ“– ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ

**Services ÑĞ»Ğ¾Ğ¹** - ÑÑ‚Ğ¾ ÑĞ»Ğ¾Ğ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ.

### ğŸ¯ ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ

- Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
- Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸ĞµĞ²
- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### ğŸ’» Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```typescript
// src/services/productService.ts
import { productRepository } from '../repositories/productRepository';
import { NotFoundError, ValidationError } from '../errors/AppError';
import { LIMITS } from '../config/constants';

export class ProductService {
  async getAllProducts(page: number = 1, limit: number = LIMITS.DEFAULT_PAGE_SIZE) {
    // 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
    if (page < 1 || limit < 1) {
      throw new ValidationError('Page Ğ¸ limit Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ 0');
    }

    if (limit > LIMITS.MAX_PAGE_SIZE) {
      limit = LIMITS.MAX_PAGE_SIZE;
    }

    // 2. Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
    const skip = (page - 1) * limit;
    
    // 3. Ğ’Ñ‹Ğ·Ğ¾Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
    const [products, total] = await Promise.all([
      productRepository.findAll(skip, limit),
      productRepository.count(),
    ]);

    // 4. Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    return {
      data: products,
      total,
      page,
      limit,
      totalPages: Math.ceil(total / limit),
    };
  }

  async getProductById(id: string) {
    // 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
    if (!id) {
      throw new ValidationError('ID Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¿ÑƒÑÑ‚Ñ‹Ğ¼');
    }

    // 2. Ğ’Ñ‹Ğ·Ğ¾Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
    const product = await productRepository.findById(id);

    // 3. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
    if (!product) {
      throw new NotFoundError(`ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚ Ñ ID ${id} Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½`);
    }

    return product;
  }

  async createProduct(data: any) {
    // 1. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
    if (!data.name || !data.price || !data.categoryId) {
      throw new ValidationError('Ğ¢Ñ€ĞµĞ±ÑƒÑÑ‚ÑÑ Ğ¿Ğ¾Ğ»Ñ: name, price, categoryId');
    }

    if (data.price <= 0) {
      throw new ValidationError('Ğ¦ĞµĞ½Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ 0');
    }

    // 2. Ğ’Ñ‹Ğ·Ğ¾Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
    return productRepository.create(data);
  }

  async updateProduct(id: string, data: any) {
    // 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
    const product = await this.getProductById(id);

    // 2. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
    if (data.price && data.price <= 0) {
      throw new ValidationError('Ğ¦ĞµĞ½Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ 0');
    }

    // 3. Ğ’Ñ‹Ğ·Ğ¾Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
    return productRepository.update(id, data);
  }

  async deleteProduct(id: string) {
    // 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
    await this.getProductById(id);

    // 2. Ğ’Ñ‹Ğ·Ğ¾Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
    return productRepository.delete(id);
  }
}

export const productService = new ProductService();
```

### ğŸ” Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² Services ÑĞ»Ğ¾Ğµ

```
1. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ğ°
   â†“
2. Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
   if (!data.name) throw new ValidationError(...)
   â†“
3. Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸
   const skip = (page - 1) * limit
   â†“
4. Ğ’Ñ‹Ğ·Ğ¾Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
   await productRepository.findAll(skip, limit)
   â†“
5. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
   â†“
6. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñƒ
```

### ğŸ“‹ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Services ÑĞ»Ğ¾Ñ

âœ… ĞŸĞ¸ÑˆĞ¸Ñ‚Ğµ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ
âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
âœ… Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸
âœ… ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
âœ… Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
âœ… ĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ HTTP Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸/Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°Ğ¼Ğ¸
âœ… ĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ Ğ‘Ğ” Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ

---

## Ğ¡Ğ»Ğ¾Ğ¹ Repositories

### ğŸ“– ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ

**Repositories ÑĞ»Ğ¾Ğ¹** - ÑÑ‚Ğ¾ ÑĞ»Ğ¾Ğ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ Ğ±Ğ°Ğ·Ğ¾Ğ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….

### ğŸ¯ ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ

- Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ±Ğ°Ğ·Ğ¾Ğ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (Create, Read, Update, Delete)
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Prisma ORM
- ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ· Ğ‘Ğ”

### ğŸ’» Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```typescript
// src/repositories/productRepository.ts
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

export class ProductRepository {
  async findAll(skip: number = 0, take: number = 10) {
    return prisma.product.findMany({
      skip,
      take,
      include: {
        category: true,
      },
    });
  }

  async findById(id: string) {
    return prisma.product.findUnique({
      where: { id },
      include: {
        category: true,
      },
    });
  }

  async findByCategory(categoryId: string, skip: number = 0, take: number = 10) {
    return prisma.product.findMany({
      where: { categoryId },
      skip,
      take,
      include: {
        category: true,
      },
    });
  }

  async create(data: any) {
    return prisma.product.create({
      data,
      include: {
        category: true,
      },
    });
  }

  async update(id: string, data: any) {
    return prisma.product.update({
      where: { id },
      data,
      include: {
        category: true,
      },
    });
  }

  async delete(id: string) {
    return prisma.product.delete({
      where: { id },
    });
  }

  async count() {
    return prisma.product.count();
  }
}

export const productRepository = new ProductRepository();
```

### ğŸ” Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² Repositories ÑĞ»Ğ¾Ğµ

```
1. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
   â†“
2. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Prisma Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ‘Ğ”
   await prisma.product.findMany(...)
   â†“
3. Prisma Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒĞµÑ‚ Ğ² SQL
   SELECT * FROM products LIMIT 10 OFFSET 0
   â†“
4. PostgreSQL Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
   â†“
5. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ Prisma
   â†“
6. Prisma Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·ÑƒĞµÑ‚ Ğ² TypeScript Ğ¾Ğ±ÑŠĞµĞºÑ‚
   â†“
7. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° ÑĞµÑ€Ğ²Ğ¸ÑÑƒ
```

### ğŸ“‹ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Repositories ÑĞ»Ğ¾Ñ

âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ Ğ‘Ğ”
âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Prisma ORM
âœ… ĞŸĞ¸ÑˆĞ¸Ñ‚Ğµ CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
âœ… ĞĞµ Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ
âœ… ĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ HTTP Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸/Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°Ğ¼Ğ¸
âœ… Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°Ğ¹Ñ‚Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· Ğ‘Ğ”

---

## Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ ÑĞ»Ğ¾ĞµĞ²

### ğŸ“Š ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ»Ğ¾ÑĞ¼Ğ¸

```
HTTP Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ
    â†“
ROUTES ÑĞ»Ğ¾Ğ¹
    â†“ ĞŸĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
CONTROLLERS ÑĞ»Ğ¾Ğ¹
    â†“ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹, Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞµÑ€Ğ²Ğ¸Ñ
SERVICES ÑĞ»Ğ¾Ğ¹
    â†“ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚, Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ, Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
REPOSITORIES ÑĞ»Ğ¾Ğ¹
    â†“ Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ Ğ‘Ğ”
DATABASE (PostgreSQL)
    â†“ Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
REPOSITORIES ÑĞ»Ğ¾Ğ¹
    â†“ Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
SERVICES ÑĞ»Ğ¾Ğ¹
    â†“ Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚
CONTROLLERS ÑĞ»Ğ¾Ğ¹
    â†“ Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ JSON Ğ¾Ñ‚Ğ²ĞµÑ‚
ROUTES ÑĞ»Ğ¾Ğ¹
    â†“ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚
HTTP ĞÑ‚Ğ²ĞµÑ‚
```

### ğŸ”„ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° Ğ¿Ğ¾ ID

```
1. ROUTES ÑĞ»Ğ¾Ğ¹
   router.get('/:id', (req, res, next) => 
     productController.getProductById(req, res, next)
   )

2. CONTROLLERS ÑĞ»Ğ¾Ğ¹
   async getProductById(req, res, next) {
     const { id } = req.params;
     const product = await productService.getProductById(id);
     res.json({ success: true, data: product });
   }

3. SERVICES ÑĞ»Ğ¾Ğ¹
   async getProductById(id: string) {
     if (!id) throw new ValidationError(...);
     const product = await productRepository.findById(id);
     if (!product) throw new NotFoundError(...);
     return product;
   }

4. REPOSITORIES ÑĞ»Ğ¾Ğ¹
   async findById(id: string) {
     return prisma.product.findUnique({
       where: { id },
       include: { category: true }
     });
   }

5. DATABASE
   SELECT * FROM products WHERE id = 'prod-123'
   INNER JOIN categories ON products.categoryId = categories.id

6. Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾ Ñ‡ĞµÑ€ĞµĞ· Ğ²ÑĞµ ÑĞ»Ğ¾Ğ¸
```

### ğŸ“‹ ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ ÑĞ»Ğ¾ĞµĞ²

âœ… Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ²Ğ¸Ğ¶ÑƒÑ‚ÑÑ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ (Ğ²Ğ½Ğ¸Ğ· Ğ¸ Ğ²Ğ²ĞµÑ€Ñ…)
âœ… ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞ»Ğ¾Ğ¹ Ğ½Ğ¸Ğ¶Ğµ
âœ… ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ
âœ… Ğ¡Ğ»Ğ¾Ğ¸ Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑÑÑ‚ Ğ´Ñ€ÑƒĞ³ Ğ¾Ñ‚ Ğ´Ñ€ÑƒĞ³Ğ°
âœ… Ğ¡Ğ»Ğ¾Ğ¸ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾

---

## ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 1: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ endpoint

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°:** Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ endpoint Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Ğ¿Ğ¾ Ñ†ĞµĞ½Ğµ

**Ğ¨Ğ°Ğ³ 1: Routes ÑĞ»Ğ¾Ğ¹**
```typescript
// src/routes/products.ts
router.get('/by-price/:minPrice/:maxPrice', (req, res, next) => 
  productController.getProductsByPrice(req, res, next)
);
```

**Ğ¨Ğ°Ğ³ 2: Controllers ÑĞ»Ğ¾Ğ¹**
```typescript
// src/controllers/productController.ts
async getProductsByPrice(req: Request, res: Response, next: NextFunction) {
  try {
    const { minPrice, maxPrice } = req.params;
    const result = await productService.getProductsByPrice(
      parseFloat(minPrice),
      parseFloat(maxPrice)
    );
    res.json({ success: true, data: result });
  } catch (error) {
    next(error);
  }
}
```

**Ğ¨Ğ°Ğ³ 3: Services ÑĞ»Ğ¾Ğ¹**
```typescript
// src/services/productService.ts
async getProductsByPrice(minPrice: number, maxPrice: number) {
  if (minPrice < 0 || maxPrice < 0) {
    throw new ValidationError('Ğ¦ĞµĞ½Ñ‹ Ğ½Ğµ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¼Ğ¸');
  }
  if (minPrice > maxPrice) {
    throw new ValidationError('ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ†ĞµĞ½Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹');
  }
  return productRepository.findByPrice(minPrice, maxPrice);
}
```

**Ğ¨Ğ°Ğ³ 4: Repositories ÑĞ»Ğ¾Ğ¹**
```typescript
// src/repositories/productRepository.ts
async findByPrice(minPrice: number, maxPrice: number) {
  return prisma.product.findMany({
    where: {
      price: {
        gte: minPrice,
        lte: maxPrice
      }
    },
    include: { category: true }
  });
}
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ 2: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ñ‡ĞµÑ€ĞµĞ· ÑĞ»Ğ¾Ğ¸

```
1. REPOSITORIES ÑĞ»Ğ¾Ğ¹
   const product = await prisma.product.findUnique({ where: { id } });
   // Ğ•ÑĞ»Ğ¸ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½, Prisma Ğ²ĞµÑ€Ğ½ĞµÑ‚ null

2. SERVICES ÑĞ»Ğ¾Ğ¹
   if (!product) {
     throw new NotFoundError(`ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚ Ñ ID ${id} Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½`);
   }

3. CONTROLLERS ÑĞ»Ğ¾Ğ¹
   try {
     const product = await productService.getProductById(id);
     res.json({ success: true, data: product });
   } catch (error) {
     next(error);  // ĞŸĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ Ğ² error handler
   }

4. MIDDLEWARE (Error Handler)
   if (err instanceof AppError) {
     return res.status(err.statusCode).json({
       success: false,
       error: err.message
     });
   }

5. HTTP ĞÑ‚Ğ²ĞµÑ‚
   HTTP 404
   { "success": false, "error": "ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚ Ñ ID 123 Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½" }
```

---

## Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ»Ğ¾ĞµĞ²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HTTP Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ROUTES Ğ¡Ğ›ĞĞ™                    â”‚
â”‚  - ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ endpoints            â”‚
â”‚  - Swagger Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      CONTROLLERS Ğ¡Ğ›ĞĞ™               â”‚
â”‚  - ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²             â”‚
â”‚  - Ğ’Ñ‹Ğ·Ğ¾Ğ² ÑĞµÑ€Ğ²Ğ¸ÑĞ°                    â”‚
â”‚  - Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SERVICES Ğ¡Ğ›ĞĞ™                  â”‚
â”‚  - Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°                    â”‚
â”‚  - Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…                 â”‚
â”‚  - Ğ’Ñ‹Ğ·Ğ¾Ğ² Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      REPOSITORIES Ğ¡Ğ›ĞĞ™              â”‚
â”‚  - Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ”                      â”‚
â”‚  - CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸                    â”‚
â”‚  - Prisma ORM                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DATABASE (PostgreSQL)          â”‚
â”‚  - Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹, Ğ¸Ğ½Ğ´ĞµĞºÑÑ‹, ÑĞ²ÑĞ·Ğ¸          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ»Ğ¾ÑĞ¼Ğ¸

```
Routes
  â†“ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚
Controllers
  â†“ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚
Services
  â†“ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚
Repositories
  â†“ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚
Database

ĞĞ¾ Database ĞĞ• Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Repositories
Repositories ĞĞ• Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Services
Services ĞĞ• Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Controllers
Controllers ĞĞ• Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Routes
```

---

## ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ñ‹

âœ… Ğ¡Ğ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ€Ğ°Ğ·Ğ´ĞµĞ»ÑĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ
âœ… ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ¾Ğ´Ğ½Ğ¾
âœ… Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ²Ğ¸Ğ¶ÑƒÑ‚ÑÑ Ğ²Ğ½Ğ¸Ğ· Ğ¸ Ğ²Ğ²ĞµÑ€Ñ… Ñ‡ĞµÑ€ĞµĞ· ÑĞ»Ğ¾Ğ¸
âœ… Ğ¡Ğ»Ğ¾Ğ¸ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾
âœ… ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ
âœ… ĞšĞ¾Ğ´ ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒĞ½Ñ‹Ğ¼ Ğ¸ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğ¼

---

## Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸

1. ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ **ERROR_HANDLING_STRATEGY.md** - Ğ¿Ğ¾Ğ¹Ğ¼Ğ¸Ñ‚Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
2. ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ **DATA_FLOW_BACKEND.md** - Ğ¿Ñ€Ğ¾ÑĞ»ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¿ÑƒÑ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
3. ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ **PRACTICAL_EXAMPLES.md** - Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºÑƒĞ¹Ñ‚ĞµÑÑŒ Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°Ğ¼Ğ¸
